{% extends 'sia_sports_agency/base.html' %}
{% block content %}
{% include "sia_sports_agency/modal_upload_video.html" %}
{% include "sia_sports_agency/modal_confirm.html" %}
{% include "sia_sports_agency/modal_email.html" %}
<!-- Modal -->
{% load static %}
{% static "" as baseUrl %}

<div class="row">
    <!-- *** CABECERA DE LA BARRA LATERAL *** -->
    <div class="col-3 sidebar-header">
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="row" style="padding: 0px 0px 40px 0px; margin-bottom: 30px; border-bottom: 5px solid #41494d;">
            <div class="col-2"></div>
            <div class="col-5">
                <div class="navbar-collapse" style=" width: 500px; overflow: visible !important;">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <!-- NOTA: Utilizar un componente Badge y desplazarlo hacia arriba -->
                            <a href="#" class="dropdown-toggle msg-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-envelope fa-2x"></i><span class="badge badge-messages">3</span>
                            </a>
                            <!-- *** MENÚ DE SUPERIOR DE MENSAJES *** -->
                            <!-- NOTA: Ocultar a tamaño -xs -->
                            <ul class="dropdown-menu menu-top menu-messages hidden">
                                <li class="header-msg-info">
                                    <small>
                                        <span class="float-left" style="margin-right: 50px; color: white;">Tiene <strong>3</strong> mensajes nuevos.</span> <a href="#">Marcar todos como leídos</a>
                                    </small>
                                </li>
                                <hr class="hr-msg"/>
                                <li class="lista-msg-info" >
                                    <a class="lista-msg" href="#">
                                        <div class="msg-body">
                                            <p class="msg-heading"><strong>Joan Chordà</strong><small> - Hace 15 minutos</small></p>
                                            <p>Hola, esta es una prueba de mensaje.</p>
                                        </div>
                                    </a>
                                </li>
                                <hr class="hr-msg"/>
                                <li class="lista-msg-info" >
                                    <a class="lista-msg" href="#">
                                        <div class="msg-body">
                                            <p class="msg-heading"><strong>David García</strong><small> - Hace 20 minutos ago</small></p>
                                            <p>Esto es otra prueba.</p>
                                        </div>
                                    </a>
                                </li>
                                <hr class="hr-msg"/>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-5">
                <a href="#" class="dropdown-toggle msg-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-eye fa-2x"></i><span>10 visitas</span>
                </a>
            </div>
        </div>
        <div class="row justify-content-center">
            <img class="img-cromo" src="{% static 'img/main-cromo.png' %}" />
            <div class="col-12 menu-lateral">
                <!-- Sidebar -->
                <div id="sidebar-wrapper">
                  <div class="list-group list-group-flush">
                    <a href="#" class="list-group-item list-group-item-action">Descargar</a>
                    <a href="#" class="list-group-item list-group-item-action">Cambiar imagen</a>
                  </div>
                </div>
                <!-- /#sidebar-wrapper -->
            </div>
        </div>
    </div>
    <!-- *** DATOS BASICOS *** -->
    <div class="col-9">
        <ul class="nav nav-tabs nav-justified tabs" style:"color: black;">
            <li class="nav-item">
                <a class="nav-link active datosBasicosTab" href="javascript:hideOrShowTabs('db')"><span style="font-size: 20px;">DATOS BÁSICOS</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link datosAdicionaleTab" href="javascript:hideOrShowTabs('da')"><span style="font-size: 20px;">DATOS ADICIONALES</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link mensajesTab" href="javascript:hideOrShowTabs('me')"><span style="font-size: 20px;">MENSAJES (3)</span></a>
            </li>
        </ul>
        <!-- *** DATOS BASICOS *** -->
        <div class="row col-12" id="datosBasicos">
            <section class="panel panel-datos-basicos">
                <header class="panel panel-heading">
                    <h2 class="panel-title pull-left">Tus datos básicos</h2>
                </header>
                <div class="panel-body">
                    <form id="form-datos-basicos">
                        <fieldset class="datosBasicosForm">
                            <div class="row">
                                <div class="col-6">
                                    <label for="queEresDropdown">
                                        <h4>Rol</h4>
                                    </label>
                                    <select class="form-control" id="queEresDropdown" name="inputTipoUsuario">
                                        {% for tipo in tipo_jugadores %}
                                        <option value="{{tipo.codigo|default:''}}" {% if tipo.codigo == usuario.tipo.codigo %} selected {% endif %}>{{tipo.nombre}}</option>
                                        {% endfor %}
                                    </select>
                                    <label for="FormControlInputEmail">
                                        <h4>Direcci&oacute;n email</h4>
                                    </label>
                                    <input type="email" value="{{usuario.email}}" name="inputEmail" class="form-control" id="FormControlInputEmail">
                                    <label for="FormControlInputNombre">
                                        <h4>Nombre y apellidos</h4>
                                    </label>
                                    <input class="form-control" value="{{usuario.nombre}}" name="inputNombre" type="text" id="FormControlInputNombre">
                                    <div class="grupoSexo">
                                        <label for="sexoDropdown">
                                            <h4>Sexo</h4>
                                        </label>
                                        <select class="form-control" id="sexoDropdown" name="inputSexo">
                                            <option value="m" {% if usuario.genero == 'm' %} selected {% endif %}>Hombre</option>
                                            <option value="f" {% if usuario.genero == 'f' %} selected {% endif %}>Mujer</option>
                                        </select>
                                    </div>
                                    <div class="grupoFechaNacimiento"
                                        <label for="datepicker">
                                            <h4>F. Nacimiento</h4>
                                        </label>
                                        <input class="form-control" name="inputNacimiento" value={{ usuario.fnacimiento|date:'d/m/Y' }} id="datepicker" autocomplete="off">
                                    </div>
                                    <label for="paisDropdown">
                                        <h4>País</h4>
                                    </label>
                                    <select class="form-control selectpicker" id="paisDropdown" name="inputPais" data-live-search="true" hidden>
                                        {% for pais in paises %}
                                        <option value="{{pais.codigo|default:''}}" {% if pais.codigo == usuario.pais.codigo %} selected {% endif %}
                                            data-content="<span class='flag-icon flag-icon-{{pais.codigo|lower}}'></span>&ensp;&ensp;{{pais.nombre}}"></option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6">
                                    <div class="grupoAQueJuegas">
                                        <label for="deporteInput">
                                            <h4>Deporte</h4>
                                        </label>
                                        <select class="form-control" id="deporteInput" name="inputDeporte">
                                            {% for deporte in deportes %}
                                            <option value="{{deporte.codigo|default:''}}" {% if deporte.codigo == usuario.deporte.codigo %} selected {% endif %}>{{deporte.nombre}}</option>
                                            {% endfor %}
                                        </select>
                                        <div class="grupoGeneroDeporte">
                                            <label for="generoInput">
                                                <h4>G&eacute;nero</h4>
                                            </label>
                                            <select class="form-control" id="generoInput" name="inputTipoDeporte">
                                                <option value="m" {% if usuario.tipo_deporte == 'm' %} selected {% endif %}>Masculino</option>
                                                <option value="f" {% if usuario.tipo_deporte == 'f' %} selected {% endif %}>Femenino</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="grupoPosiciones">
                                        <div class="divPositionsSimple">
                                            <label for="posicionDropdown">
                                                <h4>Posici&oacute;n</h4>
                                            </label>
                                            <select class="form-control" id="posicionDropdown" name="inputPosicion">
                                            </select>
                                        </div>
                                        <div class="divMultiplePositions" hidden>
                                            <label for="posicionDropdownMultiple">
                                                <h4>Posici&oacute;n</h4>
                                            </label>
                                            <select class="form-control selectpicker" name="inputPosicionMulti" id="posicionDropdownMultiple" multiple data-live-search="true" hidden>
                                                {% for posicion in posiciones %}
                                                <option value="{{posicion.codigo}}|default:''">{{posicion.nombre}}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <button  class="btn btn-db btn-outline-light float-right btn-editar rounded">
                                        <h5>Editar</h5>
                                    </button>
                                    <button type="submit" class="btn btn-db btn-outline-light float-right btn-guardar rounded" hidden>
                                        <h5>Guardar</h5>
                                    </button>
                                </div>
                        </fieldset>
                    </form>
                </div>
            </section>
        </div>
        <!-- *** DATOS ESPECIFICOS *** -->
        <div class="row col-12" id="datosEspecificos" style="display: none;">
            <section class="panel panel-datos-especificos">
                <header class="panel panel-heading">
                    <h2 class="panel-title pull-left">Tus datos específicos</h2>
                </header>
                <div class="panel-body">
                    <form id="form-datos-especificos">
                        <fieldset class="datosEspecificosForm">
                            <div class="row">
                                <div class="col-6">
                                    <label for="telefono">
                                        <h4>Telefono</h4>
                                    </label>
                                    <input type="text" value="{{usuario.telefono|default:''}}" name="inputTelefono" id="telefono" class="form-control">
                                    <label for="ubicacion">
                                        <h4>Ubicación</h4>
                                    </label>
                                    <input type="text" value="{{usuario.ubicacion|default:''}}" name="inputUbicacion" id="ubicacion" class="form-control">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="row">
                                                <div class="col-10">
                                                    <label for="peso">
                                                        <h4>Peso</h4>
                                                    </label>
                                                    <input type="text" value="{{usuario.peso|default:''}}" name="inputPeso" id="peso" class="form-control">
                                                </div>
                                                <div>
                                                    <h5 style="bottom: 0; position: absolute;">kg</h5>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="row">
                                                <div class="col-10">
                                                    <label for="altura">
                                                        <h4>Altura</h4>
                                                    </label>
                                                    <input type="text" value="{{usuario.altura|default:''}}" name="inputAltura" id="altura" class="form-control">
                                                </div>
                                                <div>
                                                    <h5 style="bottom: 0; position: absolute;">cm</h5>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <label for="edominante">
                                        <h4>Extremidad dominante</h4>
                                    </label>
                                    <select class="form-control" id="edominante" name="inputEdominante">
                                        {% for extremidad in extremidades %}
                                        <option value="{{extremidad.codigo|default:''}}" {% if usuario.extremidad.codigo == extremidad.codigo %} selected {% endif %}>{{extremidad.nombre}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="col-6">
                                    <label for="nacionalidad">
                                        <h4>Nacionalidad</h4>
                                    </label>
                                    <input type="text" value="{{usuario.nacionalidad|default:''}}" name="inputNacionalidad" id="nacionalidad" class="form-control">
                                    <label for="eactual">
                                        <h4>Equipo actual</h4>
                                    </label>
                                    <input type="text" value="{{usuario.eactual|default:''}}" name="inputEactual" id="eactual" class="form-control">
                                    <label for="cpresentacion">
                                        <h4>Carta de presentación</h4>
                                    </label>
                                    <div class="custom-file" id="cpresentacion">
                                        <input type="file" class="custom-file-input" id="customFileCarta" lang="es" hidden>
                                        <label class="custom-file-label form-control" for="customFileCarta">Seleccionar Archivo</label>
                                    </div>
                                    <label for="curriculum">
                                        <h4>Curriculum</h4>
                                    </label>
                                    <div class="custom-file" id="curriculum">
                                        <input type="file" class="custom-file-input" id="customFileCurriculum" lang="es" hidden>
                                        <label class="custom-file-label form-control" for="customFileCurriculum">Seleccionar Archivo</label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <label for="interesadoen">
                                        <h4>Interesado en</h4>
                                    </label>
                                    <textarea id="interesadoen" class="form-control" name="inputInteresadoen" rows="6" cols="50">{{usuario.interesadoen|default:''}}</textarea>
                                </div>
                            </div>

                            <button class="btn btn-de btn-outline-light float-right btn-editar rounded">
                                <h5>Editar</h5>
                            </button>
                            <button type="submit" class="btn btn-de btn-outline-light float-right btn-guardar rounded" hidden>
                                <h5>Guardar</h5>
                            </button>
                        </fieldset>
                    </form>
                </div>
            </section>
            <section class="panel panel-networks">
                <header class="panel panel-heading">
                    <h2 class="panel-title pull-left">Tus redes sociales</h2>
                </header>
                <div class="panel-body">
                    <form id="form-redes-sociales">
                        <fieldset class="datosRedesForm">
                            <div class="row">
                                <div class="col-1 align-self-center">
                                    <a class="fb-ic" href="{{red_FB}}" target="_blank">
                                        <i class="fab fa-facebook-f fa-lg white-text fa-2x red-social red-social-fb"> </i>
                                    </a>
                                </div>
                                <div class="col-11">
                                    <input type="text" name="inputFacebook" class="form-control" placeholder="Enlace facebook" value="{{red_FB}}">
                                </div>
                            </div><br />
                            <div class="row">
                                <div class="col-1 align-self-center">
                                    <a class="tw-ic" href="{{red_TT}}" target="_blank">
                                        <i class="fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x red-social red-social-tt"> </i>
                                    </a>
                                </div>
                                <div class="col-11">
                                    <input type="text" name="inputTwitter" class="form-control" placeholder="Enlace twitter" value="{{red_TT}}">
                                </div>
                            </div><br />
                            <div class="row">
                                <div class="col-1 align-self-center">
                                    <a class="ins-ic" href="{{red_IG}}" target="_blank">
                                        <i class="fab fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x red-social red-social-ig"> </i>
                                    </a>
                                </div>
                                <div class="col-11">
                                    <input type="text" name="inputInstagram" class="form-control" placeholder="Enlace instagram" value="{{red_IG}}">
                                </div>
                            </div><br />
                            <div class="row">
                                <div class="col-1 align-self-center">
                                    <a class="ins-ic" href="{{red_YT}}" target="_blank">
                                        <i class="fab fa-youtube fa-lg white-text mr-md-5 mr-3 fa-2x red-social red-social-yt"></i>
                                    </a>
                                </div>
                                <div class="col-11">
                                    <input type="text"  name="inputYoutube" class="form-control" placeholder="Enlace youtube" value="{{red_YT}}">
                                </div>
                            </div>
                            <button class="btn btn-de btn-outline-light float-right btn-editar rounded">
                                <h5>Editar</h5>
                            </button>
                            <button type="submit" class="btn btn-de btn-outline-light float-right btn-guardar rounded" hidden>
                                <h5>Guardar</h5>
                            </button>
                        </fieldset>
                    </form>
                </div>
            </section>
            <!-- *** GALERIA DE VIDEOS *** -->
            <section class="panel">
                <header class="panel panel-heading">
                    <h2 class="panel-title pull-left">Tus vídeos</h2>
                </header>
                <div class="video-gallery panel-body">
                    <div class="row video-list">
                        {% for video in videos %}
                        <div class="col-3">
                            <div>
                                <div class="video-thumb">
                                    <video controls="">
                                        <source src="{{ baseUrl }}{{video.path}}" type="video/mp4">
                                    </video>
                                </div>
                                <div class="video-info">
                                    <h5 class="video-info-title"><a href="#"><h4>{{video.nombre}}</h4></a></h5>
                                </div>
                                <div class="video-options">
                                    <div class="row justify-content-center">
                                        <div class="option-delete col-12">
                                            <form class="form-eliminar-video" method="POST" action="eliminar_video/">
                                                {% csrf_token %}
                                                <input name="idVideo" type="text" value="{{video.id}}" hidden>
                                                <i class="fas fa-trash-alt fa-2x"></i>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                        <div class="col-3 videos">
                            <div class="video-gallery video-add">
                                <i class="fa fa-plus-circle fa-xl white-text fa-3x video-icon" aria-hidden="true" data-toggle="modal" data-target="#uploadModalCenter"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- *** MENSAJES *** -->
        <div class="row col-12" id="mensajes" style="display: none;">
            <section class="panel panel-email">
                <header class="panel panel-heading">
                    <div class="enviar-msj">
                        <a href="#" class="btn btn-primary btn-xs" data-toggle="modal" data-target="#emailModalCenter">
                            <i class="fas fa-paper-plane"></i> Nuevo mensaje
                        </a>
                    </div>
                    <h2 class="panel-title pull-left">Tus mensajes</h2>
                </header>
                <div class="panel-body">
                    <table class="table table-striped">
                        <thead class="mail-header">
                            <tr>
                                <th>Remitente</th>
                                <th>Asunto</th>
                                <th>Fecha</th>
                                <th>Cuerpo</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for correo in correos %}
                            <tr {% if correo.leido == 0 %} class="mensaje-no-leido" {% endif %}>
                                <td>{{correo.remitente.email}}</td>
                                <td>{{correo.asunto}}</td>
                                <td>{{correo.fecha|date:'d/m/Y H:i' }}</td>
                                <td>{{correo.cuerpo}}</td>
                                <td>
                                    <a href="#" class="btn btn-primary btn-xs mail-ver" id="{{correo.id}}" data-toggle="modal" data-target="#emailModalCenter">
                                        <i class="fas fa-eye"></i> Abrir
                                    </a>
                                    <a href="#" class="btn btn-primary btn-xs mail-responder" id="{{correo.id}}" data-toggle="modal" data-target="#emailModalCenter">
                                        <i class="fas fa-reply"></i> Responder
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}
